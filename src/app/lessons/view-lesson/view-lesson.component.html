<section class="mat-typography frame" fxLayout="column" fxLayoutAlign="center center">
  <div class="lesson-frame" *ngIf="currentLesson" fxLayout="column">
    <button
      mat-icon-button
      fxFlexAlign="end end"
      routerLink="../"><mat-icon>close</mat-icon></button>
    <section class="lesson-content">
      <app-view-explanation
        *ngIf="currentLine.type == 'Explanation'"
        [(line)]="currentLine"
        [currentLineIndex]="currentLineIndex"
        (dismissLine)="onLineDismissed($event)"></app-view-explanation>
      <app-view-example
        *ngIf="currentLine.type == 'Example'"
        [(line)]="currentLine"
        [currentLineIndex]="currentLineIndex"
        (dismissLine)="onLineDismissed($event)"></app-view-example>
      <app-view-question-mc
        *ngIf="currentLine.type == 'Multiple Choice'"
        [(line)]="currentLine"
        [currentLineIndex]="currentLineIndex"
        (dismissLine)="onLineDismissed($event)"></app-view-question-mc>
    </section>
    <section class="push-down"></section>
    <section class="progress-bar-section" fxLayoutAlign="end">
      <mat-progress-bar
        class="example-margin"
        [color]="'primary'"
        [mode]="'determinate'"
        [value]="((currentLineIndex + 1) / totalLines) * 100">
      </mat-progress-bar>
    </section>
  </div>
  <div *ngIf="!currentLesson">
    <mat-spinner></mat-spinner>
  </div>
</section>
