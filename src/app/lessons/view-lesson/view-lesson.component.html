<section class="mat-typography">
  <a mat-button routerLink="../">Return to Lesson</a>
  <mat-card class="lesson-card">
    <mat-card-content>
      <mat-card-title>{{currentLesson.name}}</mat-card-title>
      <mat-card-subtitle>{{currentLesson.type}}</mat-card-subtitle>

      <section class="lesson-content">
        <app-view-explanation
          *ngIf="currentLine.type == 'Explanation'"
          [(line)]="currentLine"></app-view-explanation>
        <app-view-example
          *ngIf="currentLine.type == 'Example'"
          [(line)]="currentLine"></app-view-example>
        <app-view-question-mc
          *ngIf="currentLine.type == 'Multiple Choice'"
          [(line)]="currentLine"></app-view-question-mc>
      </section>

      <section class="progress-bar-section">
        <mat-progress-bar
          class="example-margin"
          [color]="'primary'"
          [mode]="'determinate'"
          [value]="((currentLineIndex + 1) / totalLines) * 100">
        </mat-progress-bar>
      </section>

      <mat-card-actions>
        <button mat-button (click)="transitionToLine(currentLineIndex - 1)" [disabled]="currentLineIndex == 0">PREVIOUS</button>
        <button mat-button
                (click)="transitionToLine(currentLineIndex + 1)"
                [disabled]="currentLineIndex == (totalLines - 1) || preventAdvance">NEXT</button>
      </mat-card-actions>

    </mat-card-content>
  </mat-card>
</section>
